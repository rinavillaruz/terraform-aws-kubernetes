# Terraform AWS Kubernetes Cluster

This repository contains Terraform configurations to deploy a **production-ready Kubernetes cluster** on AWS. It leverages Terraform modules for infrastructure automation.

## 🛠️ Features
- **Security Groups** – Configurable Security groups for Bastion host, Control Plane and Worker Nodes
- **VPC & Networking** – Configurable VPC, subnets, NAT, IGW
- **KEY Pairs**
- **Control Plane and Worker Nodes**
- **EC2 Instances**
- **IAM Roles**
- **Network Load Balancer and Application Load Balancer**
- **Terraform Modules** – Modular and reusable code structure using Workspaces

## 📌 Prerequisites
- Terraform (`v1.10.5`)
- AWS CLI (`v2.15.15`)
- An AWS account with sufficient permissions

## 🚀 Deployment Steps
1. Clone this repo:
   ```sh
   git clone https://github.com/rinavillaruz/terraform-aws-kubernetes.git
   cd terraform-aws-kubernetes
2. Provision Jenkins, AWS and Terraform locally https://gist.github.com/rinavillaruz/66c5de53833aa0e3a357cc9650e96724
3. Create a workspace.
   ```sh
   terraform workspace new development

## 📝 SSH to the Bastion host using Agent Forwarding
   ```sh
      eval "$(ssh-agent -s)"
      ssh-add your-key.pem
      ssh -i your-key.pem -A admin@<bastion-public-ip> # ssh into bastion (use admin for debian) this is the key.pem generated by terraform inside environments/development or environments/production
      ssh admin@<private-instance-ip> # when you are inside bastion host, ssh into control planes and worker nodes (use admin for debian)


## 📝 Changelog
- Associated an Elastic IP (EIP) to the bastion host instances.
- Implemented aws_eip and aws_eip_association resources in Terraform.